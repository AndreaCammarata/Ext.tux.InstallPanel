Ext.override(Ext.Application,{onReady:function(){if(this.useLoadMask){this.initLoadMask()}Ext.EventManager.onOrientationChange(this.determineProfile,this);if(this.autoInitViewport){Ext.Viewport.init(this.onBeforeLaunch,this)}else{this.onBeforeLaunch()}Ext.each(this.plugins,function(plugin){plugin.init(this)},this);return this}});Ext.ns('Ext.tux');Ext.tux.InstallPanel=Ext.extend(Object,{init:function(app){if((Ext.is.iOS)&&(!Ext.is.Standalone)){this.createAnimation();this.getPanel(app).show()}},getPanel:function(app){var appName=this.formatAppName(app.name);var tpl=new Ext.Template('<div class="x-install-pnl">','<div class="x-icon">','<img src="{icon}" />','</div>','<div class="x-desc">','<b>To Install {name}:</b><br/>','<span>- Tap <img class="x-btn-small" src="{blankImg}" /> button.</span><br/>','<span>- Then Select</span><br/>','</div>','<div class="x-btn-big"></div>','<div class="x-tip-{pos} x-anchor x-anchor-{pos}"></div>','</div>');var p=new Ext.Panel({floating:true,hideOnMaskTap:false,width:300,height:210,cls:'x-install-panel-anim',styleHtmlContent:true,dockedItems:{xtype:'toolbar',dock:'top',title:'Install '+appName},html:tpl.apply({name:appName,icon:app.icon,blankImg:Ext.BLANK_IMAGE_URL,pos:(Ext.is.iPhone?'bottom':'top')})});return p},formatAppName:function(appName){if(appName.length<=12)return appName;else return appName.substr(0,5)+'....'+appName.substr((appName.length-5),5)},createAnimation:function(){var style,cls,config;style=document.createElement('style');style.type='text/css';style.id='Ext.tux.InstallPanel.Animation';var animation=new Ext.Template('@-webkit-keyframes anim-bounce-in {','0% {','top: {0-t};','opacity: 0;','}','40% {','top: {40-t};','opacity: 1;','}','60% {','top: {60-t};','}','100% {','top: {100-t};','}','}');var cls=new Ext.Template('.x-install-panel-anim {','top: {100-t};','left: {100-l};','-webkit-animation: anim-bounce-in 10s 1;','}');if(Ext.is.iPhone||Ext.is.iPhone){if(Ext.orientation=='portrait'){config={'0-t':'-80%','40-t':'40%','60-t':'30%','100-t':'47%','100-l':'3.2%'}}else{config={'0-t':'-80%','40-t':'10%','60-t':'2%','100-t':'18%','100-l':'19%'}}}else{if(Ext.orientation=='portrait'){config={'0-t':'180%','40-t':'3%','60-t':'10%','100-t':'1%','100-l':'8%'}}else{config={'0-t':'180%','40-t':'3%','60-t':'10%','100-t':'1.4%','100-l':'6%'}}}style.innerHTML=animation.apply(config)+cls.apply(config);Ext.getHead().appendChild(style)}});